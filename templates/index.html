<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Interactive Graph Example</title>
    <!-- You can also download cytoscape.min.js and place in static/ if you prefer offline usage -->
    <script src="https://unpkg.com/cytoscape@3.24.0/dist/cytoscape.min.js"></script>
    <style>
      body, html {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
      }
      #cy {
        width: 100%;
        height: 100%;
        display: block;
      }
    </style>
  </head>
  <body>
    <div id="cy"></div>

    <script>
      // Sample data: 3 nodes, 2 edges
      const elements = [
        { data: { id: 'node1', label: 'Node 1' } },
        { data: { id: 'node2', label: 'Node 2' } },
        { data: { id: 'node3', label: 'Node 3' } },
        { data: { source: 'node1', target: 'node2' } },
        { data: { source: 'node2', target: 'node3' } }
      ];

      // Initialize Cytoscape
      const cy = cytoscape({
        container: document.getElementById('cy'), // container to render in
        elements: elements,
        style: [
          {
            selector: 'node',
            style: {
              'background-color': '#0074D9',
              'label': 'data(label)',
              'text-valign': 'center',
              'color': '#fff'
            }
          },
          {
            selector: 'edge',
            style: {
              'width': 3,
              'line-color': '#ccc',
              'target-arrow-color': '#ccc',
              'target-arrow-shape': 'triangle'
            }
          }
        ],
        layout: { name: 'grid' } // or 'breadthfirst', 'circle', etc.
      });

      // Example event for double-clicking a node
      cy.on('dblclick', 'node', function(evt){
        const node = evt.target;
        alert(`Double-clicked on ${node.id()}`);
        // Later, you could make an AJAX request to the server
        // to compute partial inference, etc.
      });
    </script>
  </body>
</html>
